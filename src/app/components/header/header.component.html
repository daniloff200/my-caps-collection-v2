<header class="header">
  <div class="header__inner">
    <a routerLink="/" class="header__logo">
      <span class="header__logo-icon">üç∫</span>
      <span class="header__logo-text">Dima's Caps</span>
    </a>

    <!-- Desktop nav -->
    <nav class="header__nav header__nav--desktop">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="header__link">
        {{ 'HEADER.COLLECTION' | translate }}
      </a>
      <a routerLink="/add" routerLinkActive="active" class="header__link header__link--add">
        {{ 'HEADER.ADD_CAP' | translate }}
      </a>
      <a routerLink="/contacts" routerLinkActive="active" class="header__link">
        {{ 'HEADER.CONTACTS' | translate }}
      </a>
    </nav>

    <div class="header__right header__right--desktop">
      <div class="header__lang">
        <button
          *ngFor="let lang of languages"
          class="header__lang-btn"
          [class.header__lang-btn--active]="currentLang === lang.code"
          (click)="switchLang(lang.code)"
        >
          {{ lang.label }}
        </button>
      </div>

      <div class="header__stats" *ngIf="stats$ | async as stats">
        <div class="header__stat">
          <span class="header__stat-value">{{ stats.total }}</span>
          <span class="header__stat-label">{{ 'HEADER.CAPS' | translate }}</span>
        </div>
        <div class="header__stat">
          <span class="header__stat-value">{{ stats.countries }}</span>
          <span class="header__stat-label">{{ 'HEADER.COUNTRIES' | translate }}</span>
        </div>
      </div>

      <button
        *ngIf="isAuthenticated$ | async"
        class="header__auth-btn"
        (click)="onLogout()"
        [title]="'HEADER.LOCK' | translate"
      >
        üîì
      </button>
      <a
        *ngIf="!(isAuthenticated$ | async)"
        routerLink="/login"
        class="header__auth-btn"
        [title]="'HEADER.UNLOCK' | translate"
      >
        üîí
      </a>
    </div>

    <!-- Mobile: stats + burger -->
    <div class="header__mobile-right">
      <div class="header__stats header__stats--mobile" *ngIf="stats$ | async as stats">
        <div class="header__stat">
          <span class="header__stat-value">{{ stats.total }}</span>
          <span class="header__stat-label">{{ 'HEADER.CAPS' | translate }}</span>
        </div>
      </div>

      <button class="header__burger" (click)="toggleMenu()" [class.header__burger--open]="menuOpen">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>

  <!-- Mobile menu -->
  <div class="header__mobile-menu" [class.header__mobile-menu--open]="menuOpen">
    <nav class="header__mobile-nav">
      <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" class="header__mobile-link">
        {{ 'HEADER.COLLECTION' | translate }}
      </a>
      <a routerLink="/add" routerLinkActive="active" class="header__mobile-link">
        {{ 'HEADER.ADD_CAP' | translate }}
      </a>
      <a routerLink="/contacts" routerLinkActive="active" class="header__mobile-link">
        {{ 'HEADER.CONTACTS' | translate }}
      </a>
    </nav>

    <div class="header__mobile-footer">
      <div class="header__lang">
        <button
          *ngFor="let lang of languages"
          class="header__lang-btn"
          [class.header__lang-btn--active]="currentLang === lang.code"
          (click)="switchLang(lang.code)"
        >
          {{ lang.label }}
        </button>
      </div>

      <button
        *ngIf="isAuthenticated$ | async"
        class="header__auth-btn"
        (click)="onLogout()"
      >
        üîì
      </button>
      <a
        *ngIf="!(isAuthenticated$ | async)"
        routerLink="/login"
        class="header__auth-btn"
      >
        üîí {{ 'HEADER.LOGIN' | translate }}
      </a>
    </div>
  </div>
</header>
