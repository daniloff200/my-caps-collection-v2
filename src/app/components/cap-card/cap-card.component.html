<a [routerLink]="['/cap', cap.id]" class="card">
  <div class="card__image">
    <img *ngIf="cap.imageUrl" [src]="cap.imageUrl" [alt]="cap.name" />
    <div *ngIf="!cap.imageUrl" class="card__placeholder">
      <span>üç∫</span>
    </div>
    <span *ngIf="cap.forTrade" class="card__trade-badge">{{ 'CARD.FOR_TRADE' | translate }}</span>
    <span *ngIf="cap.needsReplacement" class="card__replace-badge">{{ 'CARD.REPLACE' | translate }}</span>
  </div>
  <div class="card__body">
    <h3 class="card__name">{{ cap.name }}</h3>
    <div class="card__info">
      <span class="card__country"><app-country-flag [country]="cap.country"></app-country-flag> {{ cap.country }}</span>
      <a *ngIf="cciId" class="card__cci" [href]="cap.cciUrl" target="_blank" rel="noopener noreferrer" (click)="$event.stopPropagation()">CCI #{{ cciId }}</a>
    </div>
    <div class="card__colors" *ngIf="cap.colors?.length">
      <span
        *ngFor="let color of cap.colors"
        class="card__color-dot"
        [style.background]="getColorHex(color)"
        [style.border-color]="getColorBorder(color)"
      ></span>
    </div>
    <div class="card__tags">
      <app-tag-badge *ngFor="let tag of cap.tags.slice(0, 3)" [tag]="tag"></app-tag-badge>
      <span *ngIf="cap.tags.length > 3" class="card__more-tags">+{{ cap.tags.length - 3 }}</span>
    </div>
  </div>
</a>
